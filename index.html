<!DOCTYPE html>
<html>
<head>
<title>Pink_Fluffy_Murdercorns.exe</title>
<link rel = "stylesheet" type = "text/css" href = "/css/main.css" >
<script src="processing.js"></script>
<script type="application/processing" data-processing-target="pjs">
/* @pjs globalKeyEvents="true"; */ 
void setup() {
size(400, 400);
}
//Every. Damn. Thing.
{
//Variables 
{
var pX = 180;
var keyz = []; 
var cloudX = 500;
var cloudY = 100;
var cloudXi = 500;
var cloudYi = 100;
var cloudXii = 500;
var cloudYii = 100;
var screen = 0;
var score = 1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000;
var CC = color(70, 70, 74);
var obsTime = 0;
var platform = "computer";
var secret = false;
var speed = 4.4;
{
    /** Color Shop **/ {
    var newColour = function(cost,saleX,saleY,boughtX,boughtY,name,color){
    this.cost = cost;
    this.saleX = saleX;
    this.saleY = saleY;
    this.boughtX = boughtX;
    this.boughtY = boughtY;
    this.name = name;
    this.color = color; 
    this.rect = "sale";
    this.default = false;
    };
    newColour.prototype.draw = function() {
        
        fill(this.color);
        
        //Sale
        
        if(this.rect === "sale"){
        if(mouseX > this.saleX && mouseX < this.saleX+40 && mouseY > this.saleY && mouseY < this.saleY +40){
        strokeWeight(5);
        stroke(255, 255, 255);
        if(mousePressed && this.cost <= score){
          score -= this.cost;
          this.rect = "own";
          CC = this.color;
        }
        
        }
        rect(this.saleX,this.saleY,40,40); 
        noStroke();
        fill(0, 0, 0);
         textSize(16);
        text("$"+this.cost,this.saleX+0,this.saleY+14,40,40);
        fill(this.color);
        }
        
        //Own
        if(this.rect === "own"){
            if(CC === this.color){
             stroke(255, 255, 255);
            }
            if(mouseX > this.boughtX && mouseX < this.boughtX+40 && mouseY > this.boughtY && mouseY < this.boughtY+40 && mousePressed){
             CC = this.color;
             this.default = true;
            }
            
        if(mouseX > this.boughtX && mouseX < this.boughtX+40 && mouseY > this.boughtY && mouseY < this.boughtY+40){
        strokeWeight(5);
        stroke(255, 255, 255);
        }
        rect(this.boughtX,this.boughtY,40,40);
        noStroke();
        }
    };
    var Red = new newColour(10,235,120,60,114,"red",color(255, 0, 0));
    var Orange = new newColour(20,285,120,114,114,"orange",color(255, 106, 0));
    var Yellow = new newColour(30,235,200,60,196,"yellow",color(255, 242, 0));
    var Green = new newColour(40,285,200,114,196,"green",color(34, 255, 0));
    var Blue = new newColour(50,235,280,60,276,"blue",color(17, 0, 255));
    var Purple = new newColour(60,285,280,114,276,"purple",color(200, 0, 255));
    
/** var.Obstacle **/ {
var Obs = function(){
this.x = 200;
this.y = 0;
this.l = 40;
this.w = 40;
this.col = false;
};
Obs.prototype.draw = function(){
    fill(0, 0, 0);
    
    this.y+=speed;
    if(this.y > 410){
     this.col = false;
     this.y = 20;
     this.x = random(105,250);
      if(this.col === false){
       score+=1;   
      }
    }
    if(this.col === true){
       screen = 6;
       if(score > 10){
        score-=5;   
       }
       pX = 200;
       this.y = 0;
       this.col = false;
      }
    if(this.col === false){
        stroke(255, 0, 0);
rect(this.x, this.y, this.w, this.l);
}
    };
var newObs = new Obs();
Obs.prototype.checkCol = function() {
/** collision **/ {
 if(this.x > pX-this.w && this.x < pX + 40 && this.y > 300-this.l && this.y < 300 + 80){
     this.col = true;
}
} 
};}
/** var.Line **/{
var Line = function(){
  this.y = 142;
  this.x = 150;
  this.speed = 0;
};
Line.prototype.draw = function() {
  stroke(255, 255, 255);
  strokeWeight(5.5);
  this.speed += speed;
  if(this.y + this.speed > 400){
   this.speed = 0;   
   this.y = 142;
  }
  line(this.x,this.y + this.speed,this.x,this.y + 66 + this.speed);

};}
/** var.Lines **/ {
var line1 = new Line();
var line2 = new Line();
line2.y = line1.y + 86;
var line3 = new Line();
line3.y = line2.y + 86;
var line4 = new Line();
line4.x = line3.x + 100;
var line5 = new Line();
line5.x = line4.x;
line5.y = line4.y + 86;
var line6 = new Line();
line6.y = line5.y + 86;
line6.x = line5.x;}
/** var.Car **/ var playerCar = function (pX , pY) {

 noStroke();
 
 //Wheels
 fill(0, 0, 0);
 rect(pX-5, pY+60, 15, 25, 10);
 rect(pX-5, pY, 15, 25, 10);
 rect(pX+30, pY+60, 15, 25, 10);
 rect(pX+30, pY, 15, 25, 10);
 
 //Body
fill(CC);
rect(pX, pY, 40, 80,20);
//DEBUG
text(score,200,200);};}}
}

//Dont look in here.
{
//Why did you look?
 {
   //Really? You'res still here?
   {
     //Go Away.
     {
       //Last warning.   
       {
        //Welp I tried to warn you.
        //Set this true at your own risk.
        secret = false;
       }
     }
   }
 

}
}

//Stuff
draw = function(){

//Platform
if(screen === 0){
background(255, 255, 255);
textSize(25);
fill(0, 0, 0);
text("Which platform are you using?",37,100);
textSize(100);
text("📱",54,263);
text("💻",233,263);
textSize(25);
text("mobile",76,315);
text("computer",252,315);
textSize(60);

if(mouseX > 86 && mouseX < 145 && mouseY < 286 && mouseY > 171 && mousePressed){
platform = "mobile";
screen = 1;
}
if(mouseX > 239 && mouseX < 340 && mouseY < 272 && mouseY > 192 && mousePressed){
platform = "computer";
screen = 1;
}
}

//Home
if(screen === 1){
    strokeWeight(5);
        stroke(92, 92, 92);
         background(0, 0, 0);
         fill(105, 105, 105);
         rect(0,250,400,200);
         stroke(0, 0, 0);
         //Buttons
         
               //Help
               fill(255, 255, 255);
               rect(0,0,60,60);
               fill(0, 0, 0);
               textSize(14);
               text("Controls",3,36);
               if(mouseX > 0 && mouseX < 60 && mouseY > 0 && mouseY < 60 && mousePressed){
                screen = 5;
               }
         
               //Start
               if(mouseX > 100 && mouseX < 300 && mouseY > 274 && mouseY < 374 && mousePressed){
            screen = 2; 
            obsTime++;
           
          }
            fill(255, 255, 255);
          stroke(84, 75, 75);
          rect(100,274,200,100);
            fill(0, 0, 0);
          textSize(75);
          text("Start",120,350);
          
               //Shop
               if(mouseX > 9 && mouseX < 76 && mouseY > 274 && mouseY < 374 && mousePressed){
            screen = 3; 
           
          }
            fill(255, 255, 255);
          stroke(84, 75, 75);
          rect(9,274,67,100);
            fill(0, 0, 0);
          textSize(25);
          text("Shop",13,306);
            fill(255, 255, 255);
          ellipse(42,332,20,20);
            fill(92, 91, 91);
          rect(32,335,20,20);
            fill(0, 255, 26);
          bezier(53, 336, 56, 335, 46, 356, 31, 335);
          
               //HighScore
               if(mouseX > 322 && mouseX < 388 && mouseY > 274 && mouseY < 374 && mousePressed){
            screen = 4; 
           
          }
            fill(255, 255, 255);
          stroke(84, 75, 75);
          rect(322,274,66,100);
            fill(0, 0, 0);
          textSize(23);
          text(" High \nScore \n   #1",325,307);
    }
    
//Game
if(screen === 2){
speed += 0.001;
}
if(platform === "computer"){
if(screen === 2){
/** back.Ground & car.Steering **/
    //Ground
    fill(0, 255, 17);
    rect(0,200,100,200);
    rect(300,200,100,200);
    fill(150, 135, 150);
    rect(100,200,200,200);
    //Obstacle
    if(obsTime > 90){
   newObs.draw();
  if(screen !== 2){
   obsTime = 0;   
 }
}

    //Linezzzz
    stroke(255, 255, 255);
    strokeWeight(3);
    line1.draw();
    line2.draw();
    line3.draw();
    line4.draw();
    line5.draw();
    line6.draw();
    strokeWeight(3);
    newObs.checkCol();
    newObs.draw();
    
    //Ambiance 
    noStroke();
  fill(36, 215, 255);
  rect(0,0,400,200);
  fill(255, 230, 0);
  ellipse(80,80,100,100);
  

  //Clouds
  /** draw.Clouds **/{
      fill(255, 255, 255);
 cloudX += 2;
 if(cloudX > 415){
    cloudX = 0;
    cloudY = random(5,185);
}
cloudXi += 2;
 if(cloudXi > 439){
    cloudXi = 0;
    cloudYi = random(20,170);
}
cloudXii += 2;
 if(cloudXii > 427){
    cloudXii = 0;
    cloudYii = random(20,170);
}
    
}

  ellipse(cloudX+16,cloudY,25,25);
    ellipse(cloudX+1,cloudY+5,15,16);
    ellipse(cloudX+32,cloudY+5,14,15);
    rect(cloudX,cloudY+7,35,6,5);
    ellipse(cloudXi+16,cloudYi,25,25);
    ellipse(cloudXi+1,cloudYi+5,15,16);
    ellipse(cloudXi+32,cloudYi+5,14,15);
    rect(cloudXi,cloudYi+7,35,6,5);
    ellipse(cloudXii+16,cloudYii,25,25);
    ellipse(cloudXii+1,cloudYii+5,15,16);
    ellipse(cloudXii+32,cloudYii+5,14,15);
    rect(cloudXii,cloudYii+7,35,6,5);

//Car
    //Movement
    
    playerCar(pX, 300);
 {
    
    if(keyz[39] === true && keyIsPressed){
        pX += 10;
    }
    if(keyz[37] === true && keyIsPressed){
        pX -= 10;
    }
      if(pX < 100){
        pX = 100;
      
      }
        if(pX > 260){
          pX = 260;
        }
 }
 



 
/** steady.Movement **/ {
void keyPressed() { 
     keyz[keyCode] = true;
   }
void keyReleased() {
     keyz[keyCode] = false;  
   }}
   
}
}
if(platform === "mobile"){
if(screen === 2){
/** back.Ground & car.Steering **/
    //Ground
    fill(0, 255, 17);
    rect(0,200,100,200);
    rect(300,200,100,200);
    fill(150, 135, 150);
    rect(100,200,200,200);
    //Obstacle
    if(obsTime > 90){
   newObs.draw();
  if(screen !== 2){
   obsTime = 0;   
 }
}

    //Linezzzz
    stroke(255, 255, 255);
    strokeWeight(3);
    line1.draw();
    line2.draw();
    line3.draw();
    line4.draw();
    line5.draw();
    line6.draw();
    strokeWeight(3);
    newObs.checkCol();
    newObs.draw();
    
    //Ambiance 
    noStroke();
  fill(36, 215, 255);
  rect(0,0,400,200);
  fill(255, 230, 0);
  ellipse(80,80,100,100);
  

  //Clouds
  /** draw.Clouds **/{
      fill(255, 255, 255);
 cloudX += 2;
 if(cloudX > 415){
    cloudX = 0;
    cloudY = random(5,185);
}
cloudXi += 2;
 if(cloudXi > 439){
    cloudXi = 0;
    cloudYi = random(20,170);
}
cloudXii += 2;
 if(cloudXii > 427){
    cloudXii = 0;
    cloudYii = random(20,170);
}
    
}

  ellipse(cloudX+16,cloudY,25,25);
    ellipse(cloudX+1,cloudY+5,15,16);
    ellipse(cloudX+32,cloudY+5,14,15);
    rect(cloudX,cloudY+7,35,6,5);
    ellipse(cloudXi+16,cloudYi,25,25);
    ellipse(cloudXi+1,cloudYi+5,15,16);
    ellipse(cloudXi+32,cloudYi+5,14,15);
    rect(cloudXi,cloudYi+7,35,6,5);
    ellipse(cloudXii+16,cloudYii,25,25);
    ellipse(cloudXii+1,cloudYii+5,15,16);
    ellipse(cloudXii+32,cloudYii+5,14,15);
    rect(cloudXii,cloudYii+7,35,6,5);

//Car
    //Movement
    
    playerCar(pX, 300);
 {
    
    if(mouseX > 200 && mousePressed){
        pX += 10;
    }
    if(mouseX < 200 && mousePressed){
        pX -= 10;
    }
      if(pX < 100){
        pX = 100;
      
      }
        if(pX > 260){
          pX = 260;
        }
 }
 



 
/** steady.Movement **/ {
keyPressed = function() { 
     keyz[keyCode] = true;
   };
keyReleased = function() {
     keyz[keyCode] = false;  
   };}
   
}
}

//Shop
if(screen === 3){
   
    //Ambiance 
    {
 background(225,198,153);
 textSize(60);
 fill(255, 0, 0);
 text("X",356,47);
 fill(255, 0, 0);
 textSize(23);
 if(mouseX > 350 && mouseX < 400 && mouseY > 0 && mouseY < 50 && mousePressed){
  screen = 1;   
 }
 fill(86,47,14);
 rect(40, 165, 150, 15);
 rect(40, 245, 150, 15);
 rect(40, 325, 150, 15);
 rect(220, 165, 150, 15);
 rect(220, 245, 150, 15);
 rect(220, 325, 150, 15);
 fill(70,71,62);
 noStroke();
 rect(75, 50, 80, 50);
 fill(255, 255, 255);
 text("Owned \n Colors", 77, 71);
 fill(70,71,62);
 noStroke();
 rect(255, 50, 80, 50);
 fill(255, 255, 255);
 text("    For \n   Sale", 253, 71);
}
    //Function
    {
        //Sale 
        {   
            fill(0, 0, 0);
            text("Cash:" +score,10,28);
            Red.draw();
            Orange.color = color(255, 140, 0);
            Orange.draw();
            Yellow.draw();
            Green.draw();
            Blue.draw();
            Purple.draw();
        }
    }
}

//HiScore
if(screen === 4){
 background(221, 0, 255);
  textSize(60);
 fill(255, 0, 0);
 text("X",356,47);
 textSize(23);
 if(mouseX > 350 && mouseX < 400 && mouseY > 0 && mouseY < 50 && mousePressed){
  screen = 1;   
 }
 textSize(200);
 fill(26, 0, 255);
 text("௪",102,385);
 textSize(50);
 fill(random(0,255),random(0,255),random(0,255));
 text("Hi-Scores!",82,79);
 textSize(30);
 fill(255, 255, 255);
 if(score > 251.11212610){
  text("#1: You   " +   score,70,161);    
  text("#2: K. Iryu   " +   "251.11212610",20,200);  
  text("#3: M. Yu   " +   "20.17",86,239); 
}
 if(score < 251.11212610 && score > 20.17){
   text("#2: You   " +   score,70,200);    
  text("#1: K. Iryu   " +   "251.11212610",20,161);  
  text("#3: M. Yu   " +   "20.17",86,239); 
}
if(score < 20.17){
  text("#3: You   " +   score,70,239);    
  text("#1: K. Iryu   " +   "251.11212610",20,161);  
  text("#2: M. Yu   " +   "20.17",86,200);    
}

}

//Help
if(screen === 5){
   background(105, 94, 255);
   fill(255, 255, 255);
   textSize(50);
 fill(255, 0, 0);
 text("X",361,40);
 fill(255, 0, 0);
 textSize(23);
 if(mouseX > 350 && mouseX < 400 && mouseY > 0 && mouseY < 50 && mousePressed){
  screen = 1;   
 }
 fill(255, 255, 255);
   textSize(70);
   text("Movement: \n      < >",35,78);

   textSize(27);
text("                  money: \n             If you dodge an \n       obstacle you get a point \n and if you get hit you lose five",11,188);
}

//Dead
if(screen === 6){
    background(0, 0, 0);
    fill(255, 0, 0);
    textSize(20);
    text("You died in a car crash.",111,124);
    textSize(35);
    fill(255, 255, 255);
    rect(121,175,40,40);
    fill(0, 0, 0);
   text(" ↻", 117,207); 
   if(mouseX > 121 && mouseX < 161 && mouseY > 175 && 215 && mousePressed){
    screen = 2;  
    speed = 4.4;
   }
   fill(255, 255, 255);
    rect(260,173,46,46);
    fill(0, 0, 0);
   text("🏠", 263,207); 
   if(mouseX > 260 && mouseX < 300 && mouseY > 173 && 213 && mousePressed){
    screen = 1;  
    speed = 4.4;
   }
}

//Debug
{

if(secret === true){
background(random(0,255),random(0,255),random(0,255));
fill(255, 255, 255);
text("I warned you \n You best not sleep tonight",200,200);  
}
}};

}
<canvas id="pjs"> </canvas>

</head>



</html>
